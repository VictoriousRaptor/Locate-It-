namespace = locateit

event = {
	id = locateit.0
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { NOT = { has_global_flag = locateit_activated } }
			set_global_flag = locateit_activated
		}
	}
}

# Cleaner
country_event = {
	id = locateit.100
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { has_event_chain = locateit_res_chain }
			end_event_chain = locateit_res_chain
		}
	}
}

# Clear all
country_event = {
	id = locateit.101
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		country_event = {
			id = locateit.100
		}
		country_event = {
			id = locateit.200
		}
		country_event = {
			id = locateit.201
		}
		country_event = {
			id = locateit.202
		}
		country_event = {
			id = locateit.203
		}
	}
}

country_event = {
	id = locateit.200
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { has_event_chain = locateit_mega_chain }
			end_event_chain = locateit_mega_chain
		}
	}
}

country_event = {
	id = locateit.201
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { has_event_chain = locateit_gate_chain }
			end_event_chain = locateit_gate_chain
		}
	}
}

country_event = {
	id = locateit.202
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { has_event_chain = locateit_lgate_chain }
			end_event_chain = locateit_lgate_chain
		}
	}
}

country_event = {
	id = locateit.203
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { has_event_chain = locateit_wormhole_chain }
			end_event_chain = locateit_wormhole_chain
		}
	}
}


# Violate Motes
country_event = {
	id = locateit.2
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = volatile_motes
		}
	}
}

# Exotic Gases
country_event = {
	id = locateit.3
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = exotic_gases
		}
	}
}

# Rare Crystals
country_event = {
	id = locateit.4
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = rare_crystals
		}
	}
}

# Dark Matter
country_event = {
	id = locateit.5
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = sr_dark_matter
		}
	}
}

# Living Metal
country_event = {
	id = locateit.6
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = sr_living_metal
		}
	}
}

# Zro
country_event = {
	id = locateit.7
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = sr_zro
		}
	}
}

# Nanites
country_event = {
	id = locateit.8
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_resource = {
			RESOURCE = nanites
		}
	}
}

# Megastructures, not including gates
country_event = {
	id = locateit.10
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_megastructure = {
			PROJECT_NAME = locateit_megastructure_sp_captial
			CHAIN_NAME = locateit_mega_chain
		}
		every_megastructure = {
			limit = {
				NOR = {
					is_gate = yes
					is_megastructure_type = lgate_base
				}
			}
			if = {
				limit = {
					locateit_valid_system = yes
				}
				enable_special_project = {
					name = locateit_megastructure_sp
					location = star
					owner = root
				}
			}
		}
	}
}

# Gateways
country_event = {
	id = locateit.11
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_megastructure = {
			PROJECT_NAME = locateit_gate_sp_captial
			CHAIN_NAME = locateit_gate_chain
		}
		every_megastructure = {
			limit = {
				is_gate = yes
			}
			if = {
				limit = {
					locateit_valid_system = yes
				}
				enable_special_project = {
					name = locateit_gate_sp
					location = star
					owner = root
				}
			}
		}
	}
}

# L-Gates
country_event = {
	id = locateit.12
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_megastructure = {
			PROJECT_NAME = locateit_lgate_sp_captial
			CHAIN_NAME = locateit_lgate_chain
		}
		every_megastructure = {
			limit = {
				is_megastructure_type = lgate_base
			}
			if = {
				limit = {
					locateit_valid_system = yes
				}
				enable_special_project = {
					name = locateit_lgate_sp
					location = star
					owner = root
				}
			}
		}
	}
}

# Wormholes
country_event = {
	id = locateit.13
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		locateit_find_megastructure = {
			PROJECT_NAME = locateit_wormhole_sp_captial
			CHAIN_NAME = locateit_wormhole_chain
		}
		every_system = {
			limit = {
				has_natural_wormhole = yes
			}
			if = {
				limit = {
					locateit_valid_system = yes
				}
				enable_special_project = {
					name = locateit_wormhole_sp
					location = star
					owner = root
				}
			}
		}

	}
}